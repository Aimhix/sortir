{% extends 'base.html.twig' %}

{% block title %}Créer {{ parent() }}{% endblock %}

{% block body %}

    <div class="form-create-activity container-form-and-show">
        <span class="title-page-header title-show">Créer ma sortie</span>
        <h3>Campus affilié : {{ user.campus }}</h3><br><br>

        {{ form_start(activityForm) }}

        <div class="group-edit-second">

            <div class="form_champ create-activity-name">
                {{ form_label(activityForm.name) }}<br>
                {{ form_widget(activityForm.name) }}<br>
                {{ form_errors(activityForm.name) }}<br>
            </div>
            <div class="form_champ create-activity-location">
                {{ form_label(activityForm.location) }}<br>
                {{ form_widget(activityForm.location) }}<br>
                {{ form_errors(activityForm.location) }}<br>
                <a id="create-activity-add-location" href="{{ path('app_activity_create_location') }}">Ajouter un
                    nouveau lieu</a>
            </div>
        </div>

        <div class="group-edit-second">

            <div class="form_champ create-activity-dateStart">
                {{ form_label(activityForm.dateStart) }}<br>
                {{ form_widget(activityForm.dateStart) }}<br>
                {{ form_errors(activityForm.dateStart) }}<br>
            </div>
            <div class="form_champ create-activity-duration">
                {{ form_label(activityForm.duration) }}<br>
                {{ form_widget(activityForm.duration) }}<br>
                {{ form_errors(activityForm.duration) }}<br>
            </div>
        </div>

        <div class="group-edit-second">

            <div class="form_champ create-activity-subMax">
                {{ form_label(activityForm.subMax) }}<br>
                {{ form_widget(activityForm.subMax) }}<br>
                {{ form_errors(activityForm.subMax) }}<br>
            </div>
            <div class="form_champ create-activity-subLimitDate">
                {{ form_label(activityForm.subLimitDate) }}<br>
                {{ form_widget(activityForm.subLimitDate) }}<br>
                {{ form_errors(activityForm.subLimitDate) }}<br>
            </div>
        </div>

        <div class="group-edit-zero">

            <div class="form_champ create-activity-infoActivity">
                {{ form_label(activityForm.infoActivity) }}<br>
                {{ form_widget(activityForm.infoActivity) }}<br>
                {{ form_errors(activityForm.infoActivity) }}<br>
            </div>
        </div>

        <div>
            {{ form_label(activityForm.activityPicture) }}<br>
            {% if activityForm.activityPicture.vars.value is not null %}
                <img id="image-preview" src="{{ asset('images/activity/' ~ activityForm.activityPicture.vars.value) }}"
                     alt="Aperçu de l'image" style="max-width: 200px; max-height: 200px;">
            {% else %}
                <img id="image-preview" alt="Aperçu de l'image" style="max-width: 200px; max-height: 200px;">
            {% endif %}
            {{ form_widget(activityForm.activityPicture, { 'attr': {'onchange': 'previewImage(this)'} }) }}<br>
            {{ form_errors(activityForm.activityPicture) }}<br>
        </div>

        <div class="btn-end-form create-activity-action">
            {{ form_widget(activityForm.isPublished) }}<br>
            {{ form_label(activityForm.isPublished) }}<br>
            {{ form_errors(activityForm.isPublished) }}<br>

            <button type="submit" class="call-action-btn create-activity-publication">Créer ma sortie</button>
        </div>

        {{ form_end(activityForm) }}
    </div>

    <script src="{{ asset('assets/previewImageActivity.js') }}"></script>

{% endblock %}


